--Contains commands for creating tables in SQL --

--Creates the category table which will contain the different categories--
CREATE TABLE 'category' ( `name` VARCHAR(60) NOT NULL ) ENGINE = MyISAM;

--Creates the transaction table--
CREATE TABLE IF NOT EXISTS `transaction`(
    trans_id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    amount DECIMAL(8,2),
    trans_date DATE,
    check_num VARCHAR(45),
    deposit_by_id INT(11),
    bank_deposit_date DATe,
    trans_status VARCHAR(1),
    trans_desc VARCHAR(1000),
    source_type VARCHAR(5),
    source_id VARCHAR(45),
    trans_type VARCHAR(1),
    contact_id INT(11),
    date_created DATETIME,
    created_by INT(11),
    date_modified DATETIME,
    modified_by INT(11),
    FOREIGN KEY (deposit_by_id) REFERENCES admins(admin_id),
    FOREIGN KEY (contact_id) REFERENCES contact(contact_id),
    FOREIGN KEY (source_id) REFERENCES whoKnows(what_id)
);

--Creates the Line Item table--
CREATE TABLE IF NOT EXISTS `line_item`(
    lineItemID INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    sku_id INT DEFAULT NULL,
    quantity INT(10),
    FOREIGN KEY (sku_id) REFERENCES sku(sku_id)
);

--Creates the Linking table--
CREATE TABLE IF NOT EXISTS `transaction_line_item` (
    transactionID INT NOT NULL,
    lineItemID INT NOT NULL,
    FOREIGN KEY (transactionID) REFERENCES transaction(transactionID),
    FOREIGN KEY (lineItemID) REFERENCES line_item(lineItemID)
);

--Creates the sku table--
CREATE TABLE IF NOT EXISTS `sku`(
sku_id int NOT NULL AUTO_INCREMENT,
name varchar(255) NOT NULL,
description varchar(255) NOT NULL,
price DECIMAL(10,2) NOT NULL,
unit varchar(255) NOT NULL,
category varchar(60) NOT NULL,
item_id int NOT NULL,
PRIMARY KEY(sku_id),
FOREIGN KEY(category) REFERENCES category(`name`)
);